{% extends "layout.html" %}
{% block body %}
    <body>
          <!-- Optional JavaScript; choose one of the two! -->
          <div class="container">
            <div class="container">
              <div class="mb-5">
                <h1 class="display-5 text-center"style="font-family:'Alata'">SMART GATE KOMPLEK</h1>
              </div>
              </div>
          </div>
          <div class="container">
            <table class="table table-bordered text-center" id="table-example">
              <thead>
                  <tr>
                    <th scope="col"class="table-secondary">Nama</th>
                    <th scope="col"class="table-secondary">RFID</th>
                    <th scope="col"class="table-secondary">Alamat</th>
                    <th scope="col"class="table-secondary">Tanggal</th>
                    <th scope="col"class="table-secondary">Jam</th>
                    <th scope="col"class="table-secondary">Status</th>
                    <th scope="col"class="table-secondary">photo</th>
                  </tr>
                </thead>
                <tbody>
                  {% for dashboard in dashboards | reverse %}
                  <tr>
                    <td>{{ dashboard['nama'] }}</td>
                    <td>{{ dashboard['rfid'] }}</td>
                    <td>{{ dashboard['alamat'] }}</td>
                    <td>{{ dashboard['tanggal'] }}</td>
                    <td>{{ dashboard['jam'] }}</td>
                    <td>{{ dashboard['status'] }}</td>
                    <td>
                      <a href="/komplek/photo_data_visitor/{{dashboard.id}}" class="btn btn-secondary btn-sm">Lihat</a>
                    </td>
                  </tr>
                  {% endfor %}
                </tbody>
            </table>
            <div class="d-flex flex-row-reverse bd-highlight">
              <div class="bd-highlight">            
           
            <div class="d-flex flex-row-reverse bd-highlight">
              <div class="bd-highlight">
                <form action= "/komplek/visitor_out_button" method="post">
                  <button name="forwardBtn" class = "btn btn-primary" type="submit" style="background-color: #DC143C;color: black; font-size: small;width: 1.5cm;">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M96 480h64C177.7 480 192 465.7 192 448S177.7 416 160 416H96c-17.67 0-32-14.33-32-32V128c0-17.67 14.33-32 32-32h64C177.7 96 192 81.67 192 64S177.7 32 160 32H96C42.98 32 0 74.98 0 128v256C0 437 42.98 480 96 480zM504.8 238.5l-144.1-136c-6.975-6.578-17.2-8.375-26-4.594c-8.803 3.797-14.51 12.47-14.51 22.05l-.0918 72l-128-.001c-17.69 0-32.02 14.33-32.02 32v64c0 17.67 14.34 32 32.02 32l128 .001l.0918 71.1c0 9.578 5.707 18.25 14.51 22.05c8.803 3.781 19.03 1.984 26-4.594l144.1-136C514.4 264.4 514.4 247.6 504.8 238.5z"/></svg>OUT
                  </button>
            </form>  
              </div>
              <div class="bd-highlight">
                <form action= "/komplek/visitor_in_button" method="post">
                  <div class="d-flex flex-row-reverse bd-highlight">
                    <button name="forwardBtn" class = "btn btn-primary" type="submit" style="background-color: #378805;color: black; font-size: small; width: 1.5cm;">
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M344.7 238.5l-144.1-136C193.7 95.97 183.4 94.17 174.6 97.95C165.8 101.8 160.1 110.4 160.1 120V192H32.02C14.33 192 0 206.3 0 224v64c0 17.68 14.33 32 32.02 32h128.1v72c0 9.578 5.707 18.25 14.51 22.05c8.803 3.781 19.03 1.984 26-4.594l144.1-136C354.3 264.4 354.3 247.6 344.7 238.5zM416 32h-64c-17.67 0-32 14.33-32 32s14.33 32 32 32h64c17.67 0 32 14.33 32 32v256c0 17.67-14.33 32-32 32h-64c-17.67 0-32 14.33-32 32s14.33 32 32 32h64c53.02 0 96-42.98 96-96V128C512 74.98 469 32 416 32z"/></svg>IN
                    </button>
                  </div>
              </form>
              <style>
                .modal-header{
                  background: #212aa5;
                  color: #ffff;
                }
              </style>
              <div class="d-flex flex-row-reverse bd-highlight">
                <div class="p-1 bd-highlight">
                  <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#myModal" style="background-color: #F4bc1c;color: black; font-size: small; width: 1.5cm; position: inherit;">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M176 448C167.3 448 160 455.3 160 464V512h32v-48C192 455.3 184.8 448 176 448zM272 448c-8.75 0-16 7.25-16 16s7.25 16 16 16s16-7.25 16-16S280.8 448 272 448zM164 172l8.205 24.62c1.215 3.645 6.375 3.645 7.59 0L188 172l24.62-8.203c3.646-1.219 3.646-6.375 0-7.594L188 148L179.8 123.4c-1.215-3.648-6.375-3.648-7.59 0L164 148L139.4 156.2c-3.646 1.219-3.646 6.375 0 7.594L164 172zM336.1 315.4C304 338.6 265.1 352 224 352s-80.03-13.43-112.1-36.59C46.55 340.2 0 403.3 0 477.3C0 496.5 15.52 512 34.66 512H128v-64c0-17.75 14.25-32 32-32h128c17.75 0 32 14.25 32 32v64h93.34C432.5 512 448 496.5 448 477.3C448 403.3 401.5 340.2 336.1 315.4zM64 224h13.5C102.3 280.5 158.4 320 224 320s121.8-39.5 146.5-96H384c8.75 0 16-7.25 16-16v-96C400 103.3 392.8 96 384 96h-13.5C345.8 39.5 289.6 0 224 0S102.3 39.5 77.5 96H64C55.25 96 48 103.3 48 112v96C48 216.8 55.25 224 64 224zM104 136C104 113.9 125.5 96 152 96h144c26.5 0 48 17.88 48 40V160c0 53-43 96-96 96h-48c-53 0-96-43-96-96V136z"/></svg>
                    Visitor</button>
                  <div class="modal" id="myModal">
                    <div class="modal-dialog">
                      <div class="modal-content">
                        <div class="modal-header">
                          <h5 class="modal-tittle">Visitor Data</h5>
                          <button title="btn" type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                          <!-- form itu cuman bisa bawa data yang ada didalam block nya dia saja -->
                          <!-- kalau kamu cuman wrap button submit aja seperti ini
                          <form action= "/komplek/visitor_in_button" method="post">
                            <div class="d-flex flex-row-reverse bd-highlight">
                              <button name="forwardBtn" class = "btn btn-primary" type="submit">Masuk</button>
                            </div>
                        </form> -->
                        <!-- ketika kamu pencet maka data yang dibawa pun yang didalam nya saja yaitu si forwardBtn nya aja -->
                        <!-- cara solve yang simple bisa pakai javascript seperti caraku dengan membuat function sendiri untuk
                              fill attribute action si form nya sesuai yang kamu butuh
                        -->
                          <form action= "" method="post" id="form">
                            <div class="mb-3">
                              <label for="exampleInputEmail1" class="form-label">Nama</label>
                              <input type="text" name = "nama" class="form-control align-items-center" style="width: 300px;" id="nama">
                            </div>
                            <div class="mb-3">
                              <label for="exampleInputEmail1" class="form-label">Plat Kendaraan</label>
                              <input type="text" name = "rfid" class="form-control align-items-center" style="width: 300px;" id="rfid">
                            </div>
                            <div class="d-flex flex-row-reverse bd-highlight">
                              <div class="p-2 bd-highlight">
                                  <div class="d-flex flex-row-reverse bd-highlight">
                                    <button name="forwardBtn" class = "btn btn-primary" type="button" onclick="setAction('/komplek/visitor_out_buttonn')">Keluar</button>
                                  </div>
                              </div>
                              <div class="p-2 bd-highlight">
                                  <div class="d-flex flex-row-reverse bd-highlight">
                                    <button name="forwardBtn" class = "btn btn-primary" type="button" onclick="setAction('/komplek/visitor_in_buttonn')">Masuk</button>
                                  </div>
                              </div>
                            </button>
                          
                        </div>
                      </div>
                    </div>
                  </div>           
                </div>
              </div>
            </div>  
              </div>
            </div>
          </div>
            
          
    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
    -->
    <script type="text/javascript">
      $(function() {
          $('#datepicker').datepicker();
      });
      function setAction(path){
        // variable path merupakan parameter yang didpat dari masing-masing button
        document.getElementById('form').action = path;
        // submit() function bawaan javascript untuk submit form yang dituju
        document.getElementById('form').submit();

      }
      
  </script>
    </body>
    {% endblock %}
</html>
